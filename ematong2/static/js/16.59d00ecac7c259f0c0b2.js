webpackJsonp([16],{"0Wm0":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("aya4"),r=t("LOkV"),s=t("+F1i"),o=t("aN0V"),i=t("adpB"),c=t("5Ooj"),l={data:function(){return{headMsg:{title:"电子钱包余额"},ifShow:!1,ifHide:!0,Avl_Bal:"",userInfo:{SKEY:"",USERID:""},rechargeNum:[10,50,100,200,300,500],rechargeActive:0,rechargeVal:"10",walletCardNum:"",rechargeShow:!0,withdrawShow:!0,shl_second_flag:0,second_flag:0,walletname:"电子钱包",apiData:{}}},components:{myHeader:s.a},created:function(){this.getSessionStorage(),document.title=this.headMsg.title=this.walletname+"余额",this.getCounts()},methods:{getSessionStorage:function(){if(sessionStorage.getItem("resdata")){var e=JSON.parse(sessionStorage.getItem("resdata"));this.userInfo.SKEY=e.SKEY,this.userInfo.USERID=e.USERID,"1"!=e.Bitmap.substring(9,10)&&(this.rechargeShow=!1),"1"!=e.Bitmap.substring(10,11)&&(this.withdrawShow=!1),e.Qb_Pay_Title&&(this.walletname=e.Qb_Pay_Title)}var n=r.a.getSession(r.a.MAINMSG);this.shl_second_flag=n.shl_second_flag,this.second_flag=n.second_flag},onSelectRecharge:function(e){this.rechargeActive=e,this.rechargeVal=this.rechargeNum[e]},onShowWin:function(){this.rechargeVal<=500?(sessionStorage.setItem("cd-payInfo",this.apiData),this.$router.push({path:"/cd-payconfirm",query:{person_name:this.apiData.person_name,person_no:this.apiData.person_no,pay_num:this.rechargeVal}})):c.c.alert("充值金额不能大于500元")},getCounts:function(){var e=this,n={TXCODE:"DZ0247",SKEY:this.userInfo.SKEY,USERID:this.userInfo.USERID};o.a.open(),a.a.post(n).then(function(n){"0"==n.data.status?(o.a.close(),e.Avl_Bal=r.a.keepTwoDecimalFull(n.data.data.Avl_Bal),e.walletCardNum=n.data.data.person_no,e.apiData=n.data.data,console.log(e.apiData)):(o.a.close(),""==n.data.msg?Object(i.a)(n.data.ERRORCODE+" : "+n.data.ERRORMSG):Object(i.a)(n.data.msg))},function(e){o.a.close(),c.c.alert("查询余额失败，请检查网络是否连接！")})},changeStatus:function(){this.ifShow=!this.ifShow,this.ifHide=!this.ifShow},getWalletCardNum:function(){if(this.ifShow)return this.walletCardNum;var e=this.walletCardNum.substr(-4,4);return this.walletCardNum.substr(0,this.walletCardNum.length-4).replace(/\d/g,"*")+e}}},d={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"mycounts"},[t("my-header",{attrs:{h:e.headMsg}}),e._v(" "),t("div",{staticClass:"mycounts-inner"},[t("div",{staticClass:"fll"},[t("div",{staticClass:"userinfo"},[t("div",{staticClass:"user-label"},[e._v("账号")]),e._v(" "),t("div",{staticClass:"user-value"},[e._v(e._s(e.apiData.person_no))])]),e._v(" "),t("div",{staticClass:"userinfo"},[t("div",{staticClass:"user-label"},[e._v("姓名")]),e._v(" "),t("div",{staticClass:"user-value"},[e._v(e._s(e.apiData.person_name))])])]),e._v(" "),t("div",{staticClass:"flr"},[t("div",{staticClass:"counts-num"},[t("div",[t("strong",[e._v(e._s(Number(e.apiData.card_balance||0).toFixed(2)))]),e._v(" "),t("span",[e._v("元")])])])])]),e._v(" "),t("p",{staticClass:"counts-hint"},[e._v("请确认充值账户是否正确，避免充值错误")]),e._v(" "),t("div",{staticClass:"counts-border"}),e._v(" "),t("div",{staticClass:"recharge-box"},[t("div",{staticClass:"recharge-label"},[e._v("充值")]),e._v(" "),t("div",{staticClass:"recharge-list"},e._l(e.rechargeNum,function(n,a){return t("div",{staticClass:"recharge-item",class:e.rechargeActive==a?"active":"",on:{click:function(n){return e.onSelectRecharge(a)}}},[e._v("\n        "+e._s(n)+"元\n      ")])}),0),e._v(" "),t("div",{staticClass:"recharge-label2"},[e._v("请输入其他充值金额1-500元")]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.rechargeVal,expression:"rechargeVal"}],staticClass:"recharge-value",attrs:{type:"number"},domProps:{value:e.rechargeVal},on:{input:function(n){n.target.composing||(e.rechargeVal=n.target.value)}}}),e._v(" "),t("span",{staticClass:"recharge-unit"},[e._v("元")])])]),e._v(" "),e.rechargeShow?t("a",{staticClass:"mainColor mainBut",on:{click:e.onShowWin}},[e._v("\n    充值\n  ")]):e._e(),e._v(" "),e.withdrawShow?t("router-link",{staticClass:"withdraw",attrs:{to:"cd-transaction"}},[e._v("\n    充值记录\n  ")]):e._e()],1)},staticRenderFns:[]};var u=t("VU/8")(l,d,!1,function(e){t("NZOi")},"data-v-49ed809b",null);n.default=u.exports},KY2d:function(e,n,t){e.exports=t.p+"static/img/wallet_bg_cd.dd57e0e.png"},NZOi:function(e,n,t){var a=t("x6h0");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("fc35fbb0",a,!0,{})},x6h0:function(e,n,t){var a=t("kxFB");(e.exports=t("FZ+f")(!1)).push([e.i,"\n.mycounts .mycounts-inner[data-v-49ed809b] {\n  position: relative;\n  background: url("+a(t("KY2d"))+") no-repeat center center;\n  background-size: 100% 100%;\n  width: 92vw;\n  padding: 5vw;\n  overflow: hidden;\n  margin: 4vw;\n  margin-bottom: 1rem;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  border-radius: 5vw;\n}\n.mycounts .mycounts-inner .fll[data-v-49ed809b] {\n    float: left;\n}\n.mycounts .mycounts-inner .fll .userinfo[data-v-49ed809b] {\n      font-size: 1rem;\n      color: #fff;\n      margin-bottom: 3vw;\n}\n.mycounts .mycounts-inner .fll .userinfo .user-label[data-v-49ed809b] {\n        font-size: 0.75rem;\n}\n.mycounts .mycounts-inner .flr[data-v-49ed809b] {\n    float: right;\n}\n.mycounts .mycounts-inner .flr .counts-num[data-v-49ed809b] {\n      margin-top: 19vw;\n      padding-right: 2vw;\n      color: #fff;\n      font-size: 0.75rem;\n}\n.mycounts .mycounts-inner .flr .counts-num strong[data-v-49ed809b] {\n        font-weight: normal;\n        font-size: 1.5rem;\n}\n.mycounts .counts-hint[data-v-49ed809b] {\n  padding: 0 4vw;\n  font-size: 0.65rem;\n  color: #e7605c;\n}\n.mycounts .counts-border[data-v-49ed809b] {\n  height: 1vw;\n  background: #eee;\n  margin: 4vw 0;\n}\n.mycounts .recharge-box[data-v-49ed809b] {\n  width: 92vw;\n  margin: 0 4vw 1rem;\n  overflow: hidden;\n}\n.mycounts .recharge-box .recharge-label[data-v-49ed809b] {\n    font-size: 0.75rem;\n    margin-bottom: 1rem;\n}\n.mycounts .recharge-box .recharge-list[data-v-49ed809b] {\n    overflow: hidden;\n}\n.mycounts .recharge-box .recharge-item[data-v-49ed809b] {\n    width: -webkit-calc((100vw - 8vw - 4vw * 2) / 3);\n    width: calc((100vw - 8vw - 4vw * 2) / 3);\n    margin-right: 4vw;\n    margin-bottom: 4vw;\n    float: left;\n    background: #fff;\n    border: 1px solid #eee;\n    text-align: center;\n    -webkit-box-sizing: border-box;\n       -moz-box-sizing: border-box;\n            box-sizing: border-box;\n    padding: 3vw 0;\n    border-radius: 1vw;\n}\n.mycounts .recharge-box .recharge-item[data-v-49ed809b]:nth-of-type(3n) {\n      margin-right: 0;\n}\n.mycounts .recharge-box .recharge-item.active[data-v-49ed809b] {\n      background: #e7605c;\n      border: 1px solid #e7605c;\n      color: #fff;\n}\n.mycounts .recharge-box .recharge-label2[data-v-49ed809b] {\n    color: #999;\n    font-size: 0.75rem;\n}\n.mycounts .recharge-box .recharge-value[data-v-49ed809b] {\n    border-bottom: 1px solid #eee;\n    width: 4rem;\n    float: left;\n}\n.mycounts .recharge-box .recharge-unit[data-v-49ed809b] {\n    float: left;\n    line-height: 2.25rem;\n}\n.mycounts a[data-v-49ed809b] {\n  display: block;\n  width: 92%;\n  height: 2rem;\n  line-height: 2rem;\n  text-align: center;\n  background-color: #e7605c;\n  border-radius: 0.4rem;\n  margin: 0 auto;\n  color: #fff;\n  margin-bottom: 1rem;\n  font-size: 0.85rem;\n}\n.mycounts .withdraw[data-v-49ed809b] {\n  background-color: #f8f8f8;\n  border: 1px solid #eee;\n  color: #333;\n}\n.mycounts .mainColor.mainBut[data-v-49ed809b] {\n  background-color: #e7605c !important;\n}\n",""])}});